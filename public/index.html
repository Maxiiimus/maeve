<!doctype html>
<html>
<head>
    <title>Maeve</title>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link rel="stylesheet" href="styles.css">
    <link href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.12.1.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script type='text/javascript' src='knockout-latest.js'></script>
</head>
<body>

<div data-role="page" class="ui-body-b">
    <!-- Song search panel -->
    <div data-display="overlay" data-role="panel" id="searchpanel">
        <a id="closeSearchPanel" href="#" class="ui-btn ui-icon-carat-l ui-btn-icon-right"
           onclick="$('#searchpanel').panel('close');">Search Library</a>
        <ul id="songlist" data-filter="true" data-filter-placeholder="Song or Artist..."
            data-autodividers="true" data-inset="true" data-role="listview" data-bind="foreach: library">
            <li>
                <a style="padding: .3em;" href="#">
                    <div style="display: flex" data-bind="click: $root.playSong">
                        <img height="30" width="30" data-bind="attr: { 'src': image }">
                        <div>
                            <p data-bind="text: title" style="font-weight: bold; padding: 3px"></p>
                            <p data-bind="text: artist, visible: false"></p>
                        </div>
                    </div>
                </a>
                <a href="#" data-bind="click: $root.addSongToPlaylist" class="ui-btn ui-icon-plus">Add</a>
            </li>
        </ul>
    </div><!-- /panel -->

    <!-- Playlist panel (custom) -->
    <div class="box" id="box">
        <div class="box-inner">
            <!-- Playlist buttons -->
            <a id="close" href="#" class="ui-btn ui-btn-icon-left ui-icon-carat-d">Playlist</a></li>
            <div style="text-align: center">
                <a id="playlistPlayButton" href="#" style="width: 80px" data-bind="click: $root.playPlaylist.bind($data, 0)"
                   class="ui-btn ui-shadow ui-corner-all ui-btn-inline ui-icon-play ui-btn-icon-left">Play</a>
                <a id="playlistShuffleButton" href="#" style="width: 80px" data-bind="click: $root.shufflePlaylist"
                   class="ui-btn ui-shadow ui-corner-all ui-btn-inline ui-icon-shuffle ui-btn-icon-left">Shuffle</a>
            </div>
            <ul id="playlist" data-role="listview" data-bind="foreach: playlist">
                <li>
                    <a style="padding: .3em;" href="#">
                        <div style="display: flex" data-bind="click: $root.playPlaylist.bind($data, $index())">
                            <div><img height="40" width="40" data-bind="attr: { 'src': image }"></div>
                            <div>
                                <p data-bind="text: title" style="font-weight: bold; margin: 3px"></p>
                                <p data-bind="text: artist" style="margin: 3px"></p>
                            </div>
                        </div>
                    </a>
                    <a href="#" data-bind="click: $root.removeSongFromPlaylist" class="ui-btn ui-icon-delete">Remove</a>
                    <!--
                    <a href="#" data-bind="text: title, click: $root.playSong"></a>
                    <a href="#" data-bind="click: $root.removeSongFromPlaylist" class="ui-btn ui-icon-delete">Remove</a>
                    -->
                </li>
            </ul>
        </div>
    </div>

    <!-- Options panel -->
    <div data-display="overlay" data-role="panel" data-position="right" id="optionspanel">
        <a href="#" class="ui-btn ui-icon-carat-r ui-btn-icon-left"
           onclick="$('#optionspanel').panel('close');">Options</a>
        <form>
            <!--
            <input type="checkbox" name="shuffle" id="shuffle" onclick="setShuffle($(this));">
            <label for="shuffle">Shuffle</label>
            <input type="checkbox" name="repeat" id="repeat" onclick="setRepeat($(this));">
            <label for="repeat">Repeat</label>
            <input type="checkbox" name="audio" id="audio" data-bind="checked: $root.audioOn()">
            <label for="audio">Audio</label>
                        -->
            <p></p>
            <label for="text-interval">Key Test Interval:</label>
            <input type="text" name="text-interval" id="text-interval" value="250">
            <a href="#" class="ui-btn" data-bind="click: $root.testKeys.bind($data, 0)">Keys In Sequence</a>
            <a href="#" class="ui-btn" data-bind="click: $root.testKeys.bind($data, 1)">Load Test Keys</a>
            <a href="#" class="ui-btn" data-bind="click: $root.testKeys.bind($data, 2)">Rapid Key Press</a>
            <a href="#" class="ui-btn" data-bind="click: $root.testKeys.bind($data, 3)">Overlapping Key Press</a>
            <div class="ui-field-contain">
                <label for="select-key">Key:</label>
                <select name="select-key" id="select-key">
                    <option value="0">A0</option>
                    <option value="1">A#0</option>
                    <option value="2">B0</option>

                    <option value="3">C1</option>
                    <option value="4">C#1</option>
                    <option value="5">D1</option>
                    <option value="6">D#1</option>
                    <option value="7">E1</option>
                    <option value="8">F1</option>
                    <option value="9">F#1</option>
                    <option value="10">G1</option>
                    <option value="11">G#1</option>
                    <option value="12">A1</option>
                    <option value="13">A#1</option>
                    <option value="14">B1</option>

                    <option value="15">C2</option>
                    <option value="16">C#2</option>
                    <option value="17">D2</option>
                    <option value="18">D#2</option>
                    <option value="19">E2</option>
                    <option value="20">F2</option>
                    <option value="21">F#2</option>
                    <option value="22">G2</option>
                    <option value="23">G#2</option>
                    <option value="24">A2</option>
                    <option value="25">A#2</option>
                    <option value="26">B2</option>

                    <option value="27">C3</option>
                    <option value="28">C#3</option>
                    <option value="29">D3</option>
                    <option value="30">D#3</option>
                    <option value="31">E3</option>
                    <option value="32">F3</option>
                    <option value="33">F#3</option>
                    <option value="34">G3</option>
                    <option value="35">G#3</option>
                    <option value="36">A3</option>
                    <option value="37">A#3</option>
                    <option value="38">B3</option>

                    <option value="39">C4</option>
                    <option value="40">C#4</option>
                    <option value="41">D4</option>
                    <option value="42">D#4</option>
                    <option value="43">E4</option>
                    <option value="44">F4</option>
                    <option value="45">F#4</option>
                    <option value="46">G4</option>
                    <option value="47">G#4</option>
                    <option value="48">A4</option>
                    <option value="49">A#4</option>
                    <option value="50">B4</option>

                    <option value="51">C5</option>
                    <option value="52">C#5</option>
                    <option value="53">D5</option>
                    <option value="54">D#5</option>
                    <option value="55">E5</option>
                    <option value="56">F5</option>
                    <option value="57">F#5</option>
                    <option value="58">G5</option>
                    <option value="59">G#5</option>
                    <option value="60">A5</option>
                    <option value="61">A#5</option>
                    <option value="62">B5</option>

                    <option value="63">C6</option>
                    <option value="64">C#6</option>
                    <option value="65">D6</option>
                    <option value="66">D#6</option>
                    <option value="67">E6</option>
                    <option value="68">F6</option>
                    <option value="69">F#6</option>
                    <option value="70">G6</option>
                    <option value="71">G#6</option>
                    <option value="72">A6</option>
                    <option value="73">A#6</option>
                    <option value="74">B6</option>

                    <option value="75">C7</option>
                    <option value="76">C#7</option>
                    <option value="77">D7</option>
                    <option value="78">D#7</option>
                    <option value="79">E7</option>
                    <option value="80">F7</option>
                    <option value="81">F#7</option>
                    <option value="82">G7</option>
                    <option value="83">G#7</option>
                    <option value="84">A7</option>
                    <option value="85">A#7</option>
                    <option value="86">B7</option>

                    <option value="87">C8</option>
                </select>
            </div>
            <a href="#" class="ui-btn" data-bind="click: $root.testKeys.bind($data, 4)">Test One Key</a>
        </form>
    </div><!-- /panel -->

    <!-- Main Content -->
    <div class="ui-content ui-page-theme-b" role="main">
        <div style="text-align: center">
            <img height="200" id="artistImage" data-bind="attr: { 'src': currentSong().image }">
            <form class="full-width-slider">
                <input id="timeslider" name="timeslider" type="range" max="100" min="0" value="0" data-highlight="true"
                     data-mini="true" class="ui-hidden-accessible">
                <div id="timeplayed" data-bind="text: $root.timePlayedString()" align="left" style="float:left"></div>
                <div id="timeremaining" data-bind="text: $root.timeRemainingString()" align="right" style="float:right"></div>
            </form>

            <h2 id="songTitle" data-bind="text: currentSong().title"></h2>
            <h3 id="artistName" data-bind="text: currentSong().artist"></h3>
            <a id="backbutton" href="#" data-bind="click: $root.previous"
               class="ui-btn ui-shadow ui-corner-all ui-btn-inline ui-icon-carat-l ui-btn-icon-notext">back</a>
            <a id="playbutton" href="#" data-bind="click: $root.play, visible: !($root.isPlaying())"
               class="ui-btn ui-shadow ui-corner-all ui-btn-inline ui-icon-play ui-btn-icon-notext">play</a>
            <a id="pausebutton" href="#" data-bind="click: $root.pause, visible: $root.isPlaying()"
               class="ui-btn ui-shadow ui-corner-all ui-btn-inline ui-icon-pause ui-btn-icon-notext">play</a>
            <a id="nextbutton" href="#" data-bind="click: $root.next"
               class="ui-btn ui-shadow ui-corner-all ui-btn-inline ui-icon-carat-r ui-btn-icon-notext">next</a>
        </div>
    </div><!-- /content -->

    <!-- footer -->
    <div id="footer" data-role="footer">
        <div data-role="navbar">
            <ul>
                <li><a href="#searchpanel" data-icon="search">Search</a></li>
                <li><a href="#" id="openplaylist" data-icon="bullets">Playlist</a></li>
                <li><a href="#optionspanel" data-icon="gear">Setup</a></li>
            </ul>
        </div><!-- /navbar -->
    </div><!-- /footer -->

</div><!-- /page -->
<script src="soundfont-player.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="MaeveViewModel.js"></script>
<script src="main.js"></script>
</body>
</html>
